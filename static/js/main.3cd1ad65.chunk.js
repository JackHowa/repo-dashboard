(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,n){t.exports=n(17)},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(7),u=n.n(r),c=(n(16),n(9)),s=n(8),i=n(1),l=n(2),h=n(4),p=n(3),m=n(5),f={GITHUB_REPOS_API:"https://api.github.com/repos/",VOTE_COUNTER_API:"https://enigmatic-hollows-17650.herokuapp.com/api/votes"},v={REACT:"facebook/react",ANGULAR:"angular/angular.js",EMBER:"emberjs/ember.js",VUE:"vuejs/vue"},d={REACT:"React",ANGULAR:"AngularJS",EMBER:"Ember.js",VUE:"Vue.js"},E=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={starGazerAmount:0},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.findStars(),this.interval=setInterval(function(){return t.findStars()},5e3)}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.state.starGazerAmount;return e.starGazerAmount!==n||t!==this.props}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"findStars",value:function(){var t=this,e=this.props.repoName;fetch("".concat(f.GITHUB_REPOS_API).concat(v[e])).then(function(t){return t.json()}).then(function(e){var n=e.stargazers_count;t.setState({starGazerAmount:n})})}},{key:"postVote",value:function(){var t=this.props,e=t.repoName,n=t.checkVoteCount,o={repoName:e,amount:1};fetch(f.VOTE_COUNTER_API,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){!0===t.success&&n()})}},{key:"render",value:function(){var t=this,e=this.state.starGazerAmount,n=this.props,o=n.repoName,r=n.voteCount,u=n.isLoaded,c=d[o];return a.a.createElement("div",null,a.a.createElement("h1",null,c," Star Amount"),a.a.createElement("p",null,e),a.a.createElement("button",{type:"button",onClick:function(){return t.postVote()}},"Vote"),a.a.createElement("p",null,"Vote Count: ",u?r:0))}}]),e}(o.Component),b=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).countVotes=function(){fetch(f.VOTE_COUNTER_API).then(function(t){return t.json()}).then(function(t){var e=t.data.map(function(t){return Object(s.a)({},t._id,t.totalVotes)});n.setState({isLoaded:!0,repoCounts:e})})},n.checkVoteCount=function(){return n.countVotes()},n.state={repoCounts:[],isLoaded:!1},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.countVotes()}},{key:"render",value:function(){var t=this,e=this.props.targetRepoNames,n=this.state,o=n.repoCounts,r=n.isLoaded;return a.a.createElement("div",null,e.map(function(e){var n=o.find(function(t){return t[e]})||0;if(0!==n){var u=Object.values(n);n=Object(c.a)(u,1)[0]}return a.a.createElement(E,{key:e,repoName:e,voteCount:n,isLoaded:r,checkVoteCount:t.checkVoteCount})}))}}]),e}(o.Component),j=["REACT","ANGULAR","EMBER","VUE"],O=function(){return a.a.createElement(b,{targetRepoNames:j})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.3cd1ad65.chunk.js.map